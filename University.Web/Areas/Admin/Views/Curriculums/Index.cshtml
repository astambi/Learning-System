@model CurriculumListingViewModel
@{
    ViewData["Title"] = "Curriculums";
}

<h1>
    Curriculums
    <a asp-action="@nameof(CurriculumsController.Create)" class="btn btn-outline-success">
        <i class="fa fa-plus"></i>
    </a>
</h1>

<section class="card-deck d-flex justify-content-start">
    @foreach (var curriculum in Model.Curriculums)
    {
        var addCourseModel = new CurriculumAddRemoveCourseFormModel { CurriculumId = curriculum.Id, Courses = Model.CoursesSelectList };
        <article class="card-group col-sm-12 col-md-6 my-2">
            <div class="card course-card border-info">
                <div class="card-header bg-info d-flex flex-wrap justify-content-around">
                    @curriculum.Name
                </div>
                <div class="card-body d-flex justify-content-center align-items-center">
                    <h5 class="card-title">@curriculum.Description</h5>
                </div>
                <div class="card-body p-0 m-0">
                    <ul class="list-group list-group-flush">
                        @foreach (var course in curriculum.Courses)
                        {
                            var courseInfoModel = new CourseBasicViewModel { Id = course.Id, Name = course.Name };
                            var removeCourseModel = new CurriculumAddRemoveCourseFormModel { CourseId = course.Id, CurriculumId = curriculum.Id };

                            <li class="list-group-item list-group-item-action d-flex justify-content-center align-items-center">
                                @course.Name - @course.StartDate.ToDateString()
                                <partial name="_CourseInfoButtonPartial" model="courseInfoModel" />
                                <partial name="_CourseRemoveFormPartial" model="removeCourseModel" />
                            </li>
                        }
                    </ul>
                </div>
                <div class="card-footer d-flex justify-content-between align-items-center">
                    <partial name="_CourseAddFormPartial" model="addCourseModel" />
                    <partial name="_AdminCurriculumActionsPartial" model="curriculum.Id" />
                </div>
            </div>
        </article>
    }
</section>